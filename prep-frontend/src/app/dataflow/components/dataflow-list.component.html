<!-- lnb -->
<div lnb (onPageRefresh)="lnbOnPageRefresh()"></div>
<!-- //lnb -->

<!-- page -->
<div class="pb-page-main">
  <!-- wrap group -->
  <div class="pb-wrap-group">
    <div class="pb-label-type pb-clear">
      <!-- left -->
      <div class="pb-fleft">
        <strong class="pb-title">Dataflows</strong>
        <hr class="pb-bar">
        <div class="pb-component-search ">
          <input type="text" placeholder="Search by Name or Keyword" [(ngModel)]="searchText" maxlength="50" (keypress)="searchDataflows($event);">
          <a href="javascript:" class="pb-btn-delete" (click)="searchText ='';lnbOnPageRefresh();"></a>
        </div>
      </div>
      <!-- //left -->
      <!-- right -->
      <div class="pb-fright">
        <!-- tab -->
        <ul class="pb-component-tab-btn pb-clear">
          <li [class.is-selected]="localStorageService.getCurrentViewMode() === VIEW_MODE.CARD">
            <a href="javascript:" class="pb-icon-grid"
               (click)="localStorageService.saveViewMode(VIEW_MODE.CARD)">
            </a>
          </li>
          <li [class.is-selected]="localStorageService.getCurrentViewMode() === VIEW_MODE.LIST">
            <a href="javascript:" class="pb-icon-list"
               (click)="localStorageService.saveViewMode(VIEW_MODE.LIST)">
            </a>
          </li>
        </ul>
        <!-- //tab -->
        <a href="javascript:" class="pb-component-btn type-bg tpye-normal" (click)="openCreateDataflowPopup()"><em class="pb-icon-add-r"></em>CREATE DATAFLOW</a>
      </div>
      <!-- //right -->
    </div>
    <!-- filter -->
    <div class="pb-wrap-filter">
      <!-- form -->
      <div class="pb-form-option">
        <label class="pb-label-title">Filter 1</label>
        <!--
          click 시 is-selected 추가
          값 입력시 type-value 추가
        -->
        <div class="pb-form-selectbox type-value">
          <span class="pb-txt-selectbox">Select datdatadatadatadatadatadatadatadatadatadataa</span>
          <!-- popup -->
          <div class="pb-select-popup" style="display:;">
            <ul class="pb-list-popup">

              <li class="">
                <a href="javascript:">
                  text
                </a>
              </li>
              <li class="">
                <a href="javascript:">
                  text
                </a>
              </li>
              <li class="">
                <a href="javascript:">
                  text
                </a>
              </li>
            </ul>

          </div>
          <!-- //popup -->
        </div>
      </div>
      <!-- //form -->
      <!-- form -->
      <div class="pb-form-option">
        <label class="pb-label-title">Filter 1</label>
        <!--
          click 시 is-selected 추가
          값 입력시 type-value 추가
        -->
        <div class="pb-form-selectbox type-value">
          <span class="pb-txt-selectbox">Select datdatadatadatadatadatadatadatadatadatadataa</span>
          <!-- popup -->
          <div class="pb-select-popup" style="display:;">
            <ul class="pb-list-popup">

              <li class="">
                <a href="javascript:">
                  text
                </a>
              </li>
              <li class="">
                <a href="javascript:">
                  text
                </a>
              </li>
              <li class="">
                <a href="javascript:">
                  text
                </a>
              </li>
            </ul>

          </div>
          <!-- //popup -->
        </div>
      </div>
      <!-- //form -->
      <!-- form -->
      <div class="pb-form-option">
        <label class="pb-label-title">Filter 1</label>
        <!--
          click 시 is-selected 추가
          값 입력시 type-value 추가
        -->
        <div class="pb-form-selectbox type-value">
          <span class="pb-txt-selectbox">Select datdatadatadatadatadatadatadatadatadatadataa</span>
          <!-- popup -->
          <div class="pb-select-popup" style="display:;">
            <ul class="pb-list-popup">

              <li class="">
                <a href="javascript:">
                  text
                </a>
              </li>
              <li class="">
                <a href="javascript:">
                  text
                </a>
              </li>
              <li class="">
                <a href="javascript:">
                  text
                </a>
              </li>
            </ul>

          </div>
          <!-- //popup -->
        </div>
      </div>
      <!-- //form -->

    </div>
    <!-- //filter -->
  </div>
  <!-- //wrap group -->

  <div class="pb-wrap-table">
    <table class="pb-component-table type-cursor">
      <colgroup>
        <col width="78px">
        <col width="*">
        <col width="*">
        <col width="90px">
        <col width="90px">
        <col width="280px">
      </colgroup>
      <thead>
      <tr>
        <th class="pb-txt-center">No.</th>
        <th>Name</th>
        <th>Desctiption</th>
        <th>Dataset</th>
        <th>Recipe</th>
        <th>Last Updated</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let dataflow of dataflows; let i=index" (click)="goDataflowDetailView(dataflow.dfId)">
        <td class="pb-txt-center">{{returnListNumber(i)}}</td>
        <td>{{dataflow.name}}</td>
        <td>{{dataflow.description}}</td>
        <td>
                 <span class="pb-txt-num">
                    <em class="pb-file-type type-dataset2"></em>
                    {{dataflow.datasetCount}}
                </span>
        </td>
        <td>
                <span class="pb-txt-num">
                    <em class="pb-file-type type-recipe"></em>
                    {{dataflow.recipeCount}}
                </span>
        </td>
        <td>{{dataflow.modifiedTime | date: 'yyyy-MM-dd HH:mm'}} by {{dataflow.modifiedBy.fullName}}</td>
      </tr>
      </tbody>
    </table>
  </div>

</div>
<!-- //page -->
