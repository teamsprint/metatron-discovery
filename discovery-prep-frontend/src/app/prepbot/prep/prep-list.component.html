<!--
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
  <!-- intro menu -->
  <div class="pb-intro-menu">
    <div class="pb-ui-menu">
      <a href="javascript:" class="pb-menu-dashboard" (click)="createDataflow()">
        <em class="pb-icon-dashboard"></em>
        Create <strong>Dataflow</strong>
      </a>
      <a href="javascript:" class="pb-menu-create-data">
        <em class="pb-icon-create-data"></em>
        Create <strong>Dataset</strong>
      </a>
      <a href="javascript:" class="pb-menu-manage-data">
        <em class="pb-icon-manage-data"></em>
        Manage <strong>Data Connection</strong>
      </a>
    </div>
  </div>
  <!-- //intro menu -->
  <!-- intro setting -->
  <div class="pb-intro-setting">
    <div class="pb-intro-setting-in">
      <!-- left -->
      <div class="pb-set-left">
        <label class="pb-label-set">Sort by </label>
        <!-- selectbox -->
        <!--
            클릭시 : is-selected 추가
            값 입력시 : is-value 추가

        -->
        <div class="pb-component-selectbox type-white ">
          <span class="pb-txt-selectbox">Select data</span>
          <!-- popup -->
          <div class="pb-select-popup">
            <ul class="pb-list-selectbox">
              <li>
                <a href="javascript:">1</a>
              </li>
              <li>
                <a href="javascript:">1</a>
              </li>
              <li>
                <a href="javascript:">1</a>
              </li>
            </ul>
          </div>
          <!-- //popup -->
        </div>
        <!-- //selectbox -->
        <!-- selectbox -->
        <!--
            클릭시 : is-selected 추가
            값 입력시 : is-value 추가

        -->
        <div class="pb-component-selectbox type-white type-icon-selectbox ">
          <span class="pb-txt-selectbox"><em class="pb-icon-contents"></em>All Contents</span>
          <!-- popup -->
          <div class="pb-select-popup">
            <ul class="pb-list-selectbox">
              <li>
                <a href="javascript:">1</a>
              </li>
              <li>
                <a href="javascript:">1</a>
              </li>
              <li>
                <a href="javascript:">1</a>
              </li>
            </ul>
          </div>
          <!-- //popup -->
        </div>
        <!-- //selectbox -->
      </div>
      <!-- //left -->
      <!-- right -->
      <div class="pb-set-right">
        <ul class="pb-list-toggle">
          <li [class.is-selected]="viewMode === 'CARD'" (click)="toggleViewMode('CARD')">
            <a href="javascript:"><em class="pb-icon-grid"></em></a>
          </li>
          <li [class.is-selected]="viewMode === 'LIST'" (click)="toggleViewMode('LIST')">
            <a href="javascript:"><em class="pb-icon-list"></em></a>
          </li>
        </ul>
        <!-- search -->
        <div class="pb-wrap-search">
          <input type="text" placeholder="Search by title or keyword" [(ngModel)]="searchText" (keypress)="searchDataflows($event);">
        </div>
        <!-- //search -->
      </div>
      <!-- //right -->
    </div>
  </div>
  <!-- //intro setting -->
  <!-- intro contents -->
  <div class="pb-intro-contents" *ngIf="viewMode == 'CARD'">
    <!--<div class="pb-intro-contents-in" *ngIf="dataflows.length > 0">-->
    <div class="pb-intro-contents-in">
      <div class="pb-wrap-box" *ngFor="let item of dataflows; let i = index" [attr.data-index]="i" (click)="goToDfDetail(item.dfId)" style="cursor: pointer;">
        <!-- box -->
        <div class="pb-box-intro">
          <span class="pb-tag-new">NEW</span>
          <!-- data intro -->
          <div class="pb-data-intro">
            <div class="pb-data-det">
              {{item.dfName}}
            </div>
            <div class="pb-data-day">{{'msg.comm.th.created' | translate}}</div>
            <a href="javascript:" class="pb-icon-pin"></a>
          </div>
          <!-- //data intro -->
          <!-- bottom -->
          <div class="pb-data-bottom">
            <!-- user -->
            <div class="pb-box-user">
              <span class="pb-data-photo">
                  <img src="{{defaultProfileImageSrc}}" #profileImage>
              </span>
              {{item.createdBy.fullName}}
            </div>
            <!-- //user -->
            <!-- right -->
            <div class="pb-data-right">
              <span class="pb-data-num">
                  <em class="pb-icon-data1"></em>5
              </span>
              <span class="pb-data-num">
                  <em class="pb-icon-data2"></em>5
              </span>
              <span class="pb-data-num">
                  <em class="pb-icon-data3"></em>5
              </span>
            </div>
            <!-- //right -->

          </div>
          <!-- //bottom -->
        </div>
        <!-- //box -->
      </div>
      <div class="pb-wrap-box">
        <!-- box -->
        <div class="pb-box-intro type-warning">
          <!-- warning -->
          <div class="pb-intro-warning">
            <em class="pb-icon-warning"></em>
            <div class="pb-txt-message">
              <div class="pb-txt-title">URGENT ALERT</div>
              <div class="pb-txt-det">Rapid changes in line 2</div>
            </div>

          </div>
          <!-- //warning -->
          <!-- data intro -->
          <div class="pb-data-intro">
            <div class="pb-data-det">
              DataConnection 01 is failed to creation.
            </div>
            <div class="pb-data-day">JAN04  07:25 am</div>
            <a href="javascript:" class="pb-icon-pin"></a>
          </div>
          <!-- //data intro -->

        </div>
        <!-- //box -->
      </div>

    </div>

  </div>
  <!-- //list -->
  <div class="pb-intro-contents" *ngIf="viewMode == 'LIST'">
    <div class="pb-intro-contents-in">

      <!-- new table -->
      <div class="pb-ui-data-expression" *ngIf="dataflows.length > 0">
        <!-- option -->
        <!--<div class="pb-ui-grid-option">-->
          <!--&lt;!&ndash; left &ndash;&gt;-->
          <!--<div class="pb-fleft">-->
            <!--<a href="javascript:" class="pb-icon-grid"></a>-->
            <!--<a href="javascript:" class="pb-icon-grid-set"></a>-->
            <!--<input type="text" class="pb-grid-input">-->
          <!--</div>-->
          <!--&lt;!&ndash; //left &ndash;&gt;-->
          <!--&lt;!&ndash; left &ndash;&gt;-->
          <!--<div class="pb-fright">-->
            <!--<a href="javascript:" class="pb-icon-grid-search"></a>-->
            <!--<a href="javascript:" class="pb-icon-grid-pause"></a>-->
            <!--<a href="javascript:" class="pb-icon-grid-refresh"></a>-->


            <!--<div class="pb-wrap-slider3">-->
              <!--<a href="javascript:" class="pb-btn-minus"></a>-->
              <!--<a href="javascript:" class="pb-btn-plus"></a>-->
              <!--<span class="irs js-irs-0"><span class="irs"><span class="irs-line" tabindex="-1"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span><span class="irs-min" style="visibility: visible;">0</span><span class="irs-max" style="visibility: visible;">100</span><span class="irs-from" style="visibility: hidden;">0</span><span class="irs-to" style="visibility: hidden;">0</span><span class="irs-single" style="left: 27.7397%;">50</span></span><span class="irs-grid"></span><span class="irs-bar" style="left: 3.08219%; width: 46.9178%;"></span><span class="irs-bar-edge"></span><span class="irs-shadow shadow-single" style="display: none;"></span><span class="irs-slider single" style="left: 46.9178%;"></span></span><input type="text" id="rangeslider3" class="irs-hidden-input" readonly="">-->
            <!--</div>-->
            <!--<a href="javascript:" class="pb-icon-grid-resize"></a>-->
          <!--</div>-->
          <!--&lt;!&ndash; //left &ndash;&gt;-->
        <!--</div>-->
        <!-- //option -->
        <!-- grid -->
        <div class="pb-ui-grid">
          <table class="pb-table-grid">
            <colgroup>
              <col width="">
              <col width="">
              <col width="">
              <col width="">
            </colgroup>
            <thead>
            <tr style="background:#fff;">
              <th (click)="changeOrder('dfName')">
                <span class="pb-data-txt">{{'msg.comm.ui.name' | translate}}</span>
              </th>
              <th>
                <span class="pb-data-txt">{{'msg.comm.menu.manage.prep.set' | translate}}</span>
              </th>
              <th>
                <span class="pb-data-txt">{{'msg.comm.menu.manage.prep.set' | translate}}</span>
              </th>
              <th (click)="changeOrder('createdTime')">
                <span class="pb-data-txt">{{'msg.comm.th.created' | translate}}</span>
              </th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let item of dataflows; let i = index" [attr.data-index]="i" (click)="goToDfDetail(item.dfId)">
              <td>{{item.dfName}} - {{item.dfDesc}}</td>
              <td>{{item.importedDsCount}}</td>
              <td>{{item.wrangledDsCount}}</td>
              <td>{{item.createdTime | mdate:'YYYY-MM-DD HH:mm'}} <em class="ddp-icon-by">{{'msg.dp.ui.by' | translate}}</em>{{item.createdBy.fullName}}</td>
            </tr>
            </tbody>
          </table>
        </div>
        <!-- //grid -->
      </div>




    </div>
  </div>
  <!-- //list -->
  <!-- //intro contents -->
<!-- //intro -->
<prep-pop-create></prep-pop-create>